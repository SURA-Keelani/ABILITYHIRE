{% extends "base.html" %}

{% block content %}
<style>
  .main-container {
    display: flex;
    padding: 1.5em;
    gap: 1.5em;
  }
  .sidebar {
    width: 260px;
    background-color: #ffffff;
    padding: 1.5em;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
    position: sticky;
    top: 80px;
    height: fit-content;
  }
  .profile-preview {
    text-align: center;
    margin-bottom: 1.5em;
    padding-bottom: 1.5em;
    border-bottom: 1px solid #e6e9ec;
  }
  .profile-info h2 {
    font-size: 1.1em;
    color: #0a66c2;
    margin-bottom: 0.3em;
    font-weight: 600;
  }
  .nav-links {
    margin-top: 1em;
  }
  .nav-links a {
    display: flex;
    align-items: center;
    padding: 0.7em 1em;
    margin-bottom: 0.3em;
    text-decoration: none;
    color: #1d2226;
    border-radius: 4px;
    transition: all 0.2s;
    font-size: 0.95em;
  }
  .nav-links a:hover {
    background-color: rgba(152, 216, 244, 0.25);
  }
  .nav-links a.active {
    background-color: #0a66c2;
    color: white;
    font-weight: 500;
  }
  .nav-links a i {
    margin-right: 0.8em;
    font-size: 1.1em;
  }
  .content-area {
    flex: 1;
    display: flex;
    flex-direction: column;
    gap: 1.5em;
  }
  .job-recommendations {
    background-color: #ffffff;
    padding: 1.5em;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
  }
  .job-recommendations h2 {
    color: #0a66c2;
    margin-bottom: 1em;
    font-size: 1.2em;
    font-weight: 600;
  }
  .job-item {
    padding: 1em;
    border-bottom: 1px solid #e6e9ec;
    transition: background-color 0.2s;
  }
  .job-item:hover {
    background-color: rgba(152, 216, 244, 0.25);
  }
  .job-item:last-child {
    border-bottom: none;
  }
  .job-item h3 {
    color: #0a66c2;
    margin-bottom: 0.3em;
    font-size: 1.1em;
    font-weight: 600;
  }
  .job-item p {
    margin-bottom: 0.5em;
    color: #666;
    font-size: 0.9em;
  }
  .favorite-btn {
    background-color: #0a66c2;
    color: white;
    border: none;
    padding: 0.6em 1.2em;
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s;
    font-size: 0.9em;
    font-weight: 500;
    margin-top: 0.5em;
  }
  .favorite-btn:hover {
    background-color: #004182;
  }
  .back-btn {
    background-color: #0a66c2;
    color: white;
    border: none;
    padding: 0.5em 1em;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.95em;
    font-weight: 600;
    margin-bottom: 1em;
    transition: background-color 0.2s;
    text-decoration: none;
    display: inline-block;
  }
  .back-btn:hover {
    background-color: #004182;
  }
</style>

<div class="main-container">
  <div class="sidebar">
    <div class="profile-preview">
      <div class="profile-info">
        <h2>Notifications</h2>
      </div>
    </div>
    <div class="nav-links">
      <a href="{{ url_for('views.seekerdashboard') }}" {% if role == 'seeker' %}class="active"{% endif %}>
        <i>üìä</i> Seeker Dashboard
      </a>
      <a href="{{ url_for('views.publisher_dashboard') }}" {% if role == 'publisher' %}class="active"{% endif %}>
        <i>üìä</i> Publisher Dashboard
      </a>
      <a href="{{ url_for('views.setting') }}">
        <i>‚öôÔ∏è</i> Settings
      </a>
      <a href="{{ url_for('auth.logout') }}">
        <i>üö™</i> Logout
      </a>
    </div>
  </div>

  <div class="content-area">
    <a href="{{ url_for('views.home') }}" class="back-btn">‚Üê Back to Home</a>
    {% if notifications %}
      <div class="job-recommendations">
        <h2>Your Notifications</h2>
        {% for notification in notifications %}
          <div class="job-item">
            <h3>{{ notification['message'] }}</h3>
            {% if notification.jobtitle %}
              <p>{{ notification.jobtitle }}</p>
            {% endif %}
            <p><small>{{ notification.timestamp.strftime('%b %d, %Y') }}</small></p>
            <p>
              <strong>From:</strong>
              {% if notification.sender_fname %}
                {{ notification.sender_fname }}
              {% elif notification.publisher_fname %}
                {{ notification.publisher_fname }}
              {% else %}
                System
              {% endif %}
            </p>
          </div>
        {% endfor %}
        <form method="post" action="{{ url_for('views.mark_all_read') }}">
          <button type="submit" class="favorite-btn">Mark all as read</button>
        </form>
      </div>
    {% else %}
      <p>No notifications.</p>
    {% endif %}
  </div>
</div>
{% endblock %}
