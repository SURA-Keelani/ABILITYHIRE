{% with messages = get_flashed_messages(with_categories=true) %} {% if messages
%} {% for category, message in messages %}
<div class="alert alert-{{ category }}">{{ message }}</div>
{% endfor %} {% endif %} {% endwith %}

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Edit Publisher Profile - AbilityHire</title>
  <style>
    :root {
      --light-bg: #f4f4f4;
      --dark-bg: #1c1c1c;
      --light-text: #111;
      --dark-text: #f0f0f0;
      --highlight: #005a9c;
      --lang-selected: #004080;
    }
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background-color: var(--light-bg);
      color: var(--light-text);
      transition: background-color 0.3s, color 0.3s;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5em 2em;
      background-color: var(--highlight);
      color: white;
      font-size: 1.1em;
    }
    .logo {
      display: flex;
      align-items: center;
      font-size: 1.5em;
      font-weight: bold;
    }
    .logo img {
      height: 40px;
      margin-right: 10px;
    }
    .nav-buttons button,
    .lang-toggle button {
      background: none;
      border: none;
      color: white;
      font-size: 1em;
      margin-left: 1em;
      cursor: pointer;
      padding: 0.3em 0.6em;
      border-radius: 5px;
    }
    .lang-toggle button.selected {
      background-color: var(--lang-selected);
    }
    .emoji-toggle {
      background: none;
      border: none;
      font-size: 1.5em;
      cursor: pointer;
      margin-left: 1em;
    }
    main {
      max-width: 600px;
      margin: 2em auto;
      background-color: white;
      padding: 2em;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      flex: 1;
    }
    h1 {
      text-align: center;
      margin-bottom: 1em;
      color: var(--highlight);
    }
    label {
      display: block;
      margin-top: 1em;
      font-weight: 600;
      color: var(--highlight);
    }
    input, select {
      width: 100%;
      padding: 0.8em;
      margin-top: 0.3em;
      border-radius: 5px;
      border: 1px solid #ccc;
      font-size: 1em;
    }
    button {
      margin-top: 1.5em;
      padding: 0.8em 1.5em;
      background-color: var(--highlight);
      color: white;
      border: none;
      border-radius: 5px;
      font-size: 1em;
      cursor: pointer;
    }
    button:hover {
      background-color: #004080;
    }
  </style>
</head>
<body>
  <header>
    <div class="logo">
      <a href="{{ url_for('views.home') }}">
        <img src="{{ url_for('static', filename='images/abilityhire_logo.png') }}" alt="AbilityHire Logo" />
      </a>
      <span>AbilityHire</span>
    </div>
    <div class="nav-buttons">
      <button onclick="navigateTo('/publisherdashboard')">Dashboard</button>
      <button onclick="navigateTo('/logout')">Logout</button>
      <span class="lang-toggle">
        <button class="lang-btn" data-lang="en" onclick="setLanguage('en')">English</button>
        <button class="lang-btn" data-lang="ar" onclick="setLanguage('ar')">Ø¹Ø±Ø¨ÙŠ</button>
      </span>
      <button class="emoji-toggle" onclick="toggleMode()">ðŸŒ“</button>
    </div>
  </header>
  <main>
    <h1>Edit Publisher Profile</h1>
    <form method="POST" action="{{ url_for('views.edit_publisher_profile') }}">
      <label for="firstName">First Name</label>
      <input type="text" id="firstName" name="firstName" value="{{ fname }}" required />
      <label for="lastName">Last Name</label>
      <input type="text" id="lastName" name="lastName" value="{{ lname }}" required />
      <label for="email">Email</label>
      <input type="email" id="email" name="email" value="{{ email }}" required />
      <label for="phone">Phone Number</label>
      <input type="text" id="phone" name="phone" value="{{ phone }}" />
      <label for="address">Address</label>
      <input type="text" id="address" name="address" value="{{ address }}" />
      <label for="city">City</label>
      <input type="text" id="city" name="city" value="{{ city }}" />
      <label for="country">Country</label>
      <input type="text" id="country" name="country" value="{{ country }}" />
      <label for="gender">Gender</label>
      <select id="gender" name="gender">
        <option value="Male" {% if gender == 'Male' %}selected{% endif %}>Male</option>
        <option value="Female" {% if gender == 'Female' %}selected{% endif %}>Female</option>
        <option value="Other" {% if gender == 'Other' %}selected{% endif %}>Other</option>
      </select>
      <label for="disabilityType">Disability Type</label>
      <select id="disabilityType" name="disabilityType">
        <option value="">Select Disability Type</option>
        <option value="Visual impairment" {% if disability_type == 'Visual impairment' %}selected{% endif %}>Visual impairment</option>
        <option value="Hearing impairment" {% if disability_type == 'Hearing impairment' %}selected{% endif %}>Hearing impairment</option>
        <option value="Mobility impairment" {% if disability_type == 'Mobility impairment' %}selected{% endif %}>Mobility impairment</option>
        <option value="Cognitive disability" {% if disability_type == 'Cognitive disability' %}selected{% endif %}>Cognitive disability</option>
        <option value="Speech disability" {% if disability_type == 'Speech disability' %}selected{% endif %}>Speech disability</option>
        <option value="Learning disability" {% if disability_type == 'Learning disability' %}selected{% endif %}>Learning disability</option>
        <option value="Mental health condition" {% if disability_type == 'Mental health condition' %}selected{% endif %}>Mental health condition</option>
        <option value="Chronic illness" {% if disability_type == 'Chronic illness' %}selected{% endif %}>Chronic illness</option>
        <option value="Autism spectrum disorder" {% if disability_type == 'Autism spectrum disorder' %}selected{% endif %}>Autism spectrum disorder</option>
        <option value="Down syndrome" {% if disability_type == 'Down syndrome' %}selected{% endif %}>Down syndrome</option>
        <option value="Epilepsy" {% if disability_type == 'Epilepsy' %}selected{% endif %}>Epilepsy</option>
        <option value="Multiple sclerosis" {% if disability_type == 'Multiple sclerosis' %}selected{% endif %}>Multiple sclerosis</option>
        <option value="Cerebral palsy" {% if disability_type == 'Cerebral palsy' %}selected{% endif %}>Cerebral palsy</option>
        <option value="Muscular dystrophy" {% if disability_type == 'Muscular dystrophy' %}selected{% endif %}>Muscular dystrophy</option>
        <option value="Spinal cord injury" {% if disability_type == 'Spinal cord injury' %}selected{% endif %}>Spinal cord injury</option>
        <option value="Amputation" {% if disability_type == 'Amputation' %}selected{% endif %}>Amputation</option>
        <option value="Deafblindness" {% if disability_type == 'Deafblindness' %}selected{% endif %}>Deafblindness</option>
        <option value="Blindness" {% if disability_type == 'Blindness' %}selected{% endif %}>Blindness</option>
        <option value="Deafness" {% if disability_type == 'Deafness' %}selected{% endif %}>Deafness</option>
        <option value="Intellectual disability" {% if disability_type == 'Intellectual disability' %}selected{% endif %}>Intellectual disability</option>
        <option value="Attention deficit hyperactivity disorder" {% if disability_type == 'Attention deficit hyperactivity disorder' %}selected{% endif %}>Attention deficit hyperactivity disorder</option>
        <option value="Post-traumatic stress disorder" {% if disability_type == 'Post-traumatic stress disorder' %}selected{% endif %}>Post-traumatic stress disorder</option>
        <option value="Bipolar disorder" {% if disability_type == 'Bipolar disorder' %}selected{% endif %}>Bipolar disorder</option>
        <option value="Schizophrenia" {% if disability_type == 'Schizophrenia' %}selected{% endif %}>Schizophrenia</option>
        <option value="Alzheimer's disease" {% if disability_type == "Alzheimer's disease" %}selected{% endif %}>Alzheimer's disease</option>
        <option value="Parkinson's disease" {% if disability_type == "Parkinson's disease" %}selected{% endif %}>Parkinson's disease</option>
        <option value="Stroke" {% if disability_type == 'Stroke' %}selected{% endif %}>Stroke</option>
        <option value="Diabetes-related disability" {% if disability_type == 'Diabetes-related disability' %}selected{% endif %}>Diabetes-related disability</option>
        <option value="Arthritis" {% if disability_type == 'Arthritis' %}selected{% endif %}>Arthritis</option>
        <option value="Chronic fatigue syndrome" {% if disability_type == 'Chronic fatigue syndrome' %}selected{% endif %}>Chronic fatigue syndrome</option>
        <option value="Fibromyalgia" {% if disability_type == 'Fibromyalgia' %}selected{% endif %}>Fibromyalgia</option>
        <option value="Respiratory disability" {% if disability_type == 'Respiratory disability' %}selected{% endif %}>Respiratory disability</option>
        <option value="Heart disease" {% if disability_type == 'Heart disease' %}selected{% endif %}>Heart disease</option>
        <option value="Cancer-related disability" {% if disability_type == 'Cancer-related disability' %}selected{% endif %}>Cancer-related disability</option>
        <option value="Other" {% if disability_type == 'Other' %}selected{% endif %}>Other</option>
      </select>
      <button type="submit">Save Changes</button>
    </form>
  </main>
  <script>
    let currentLang = localStorage.getItem("abilityHireLang") || "en";
    let currentMode = localStorage.getItem("abilityHireMode") || "light";

    function setLanguage(lang) {
      currentLang = lang;
      localStorage.setItem("abilityHireLang", lang);
      applyLanguage();
    }

    function toggleMode() {
      document.body.classList.toggle("dark-mode");
      currentMode = document.body.classList.contains("dark-mode")
        ? "dark"
        : "light";
      localStorage.setItem("abilityHireMode", currentMode);
    }

    function applyLanguage() {
      document.body.dir = currentLang === "ar" ? "rtl" : "ltr";
      document.querySelectorAll(".lang-btn").forEach((btn) => {
        btn.classList.toggle("selected", btn.dataset.lang === currentLang);
      });
    }

    window.addEventListener("DOMContentLoaded", function () {
      const urlParams = new URLSearchParams(window.location.search);
      const urlLang = urlParams.get("lang");
      const urlMode = urlParams.get("mode");

      if (urlLang) {
        currentLang = urlLang;
        localStorage.setItem("abilityHireLang", currentLang);
      }
      if (urlMode) {
        currentMode = urlMode;
        localStorage.setItem("abilityHireMode", currentMode);
        if (currentMode === "dark") document.body.classList.add("dark-mode");
      }

      applyLanguage();
    });
  </script>
</body>
</html>
